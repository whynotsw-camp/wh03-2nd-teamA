# 1. 프로젝트 정의

## 가. 개 요

본 서비스는 사용자가 제공한 사진을 AI가 분석하여 배경을 자연스럽게 확장하고, 사진의 분위기와 어울리는 배경음악을 자동으로 선별하여 IPTV를 통해 재현하는 추억 회상 서비스임.

## 나. 주요 기능

1. AI 분석을 통한 제공된 사진의 배경 확장

2. 메타데이터를 통한 사진 분석

3. 분석 데이터를 통한 배경음악 선정 (시대, 지역, 분위기 반영)

![이미지 설명](img/image1.jpg)

# 2. 일반 현황

## 가. 프로젝트 기간 : 2025.03.10 – 2025.05.24.

| 작업 항목                      | 시작 날짜   | 종료 날짜   | 기간(일) |
| ------------------------------ | ----------- | ----------- | -------- |
| 프로젝트 정의 및 계획 수립     | ‘25. 3. 10. | ‘25. 3. 14. | 5        |
| 자료 조사 및 벤치마킹          | ‘25. 3. 17. | ‘25. 3. 23. | 7        |
| 아이디어 도출 및 시나리오 작성 | ‘25. 3. 24. | ‘25. 3. 30. | 7        |
| 요구사항 도출 및 WBS 작성      | ‘25. 3. 31. | ‘25. 4. 6.  | 7        |
| Prototype 개발 및 검토         | ‘25. 4. 7.  | ‘25. 5. 11. | 35       |
| 최종 검토 및 발표 준비         | ‘25. 5. 12. | ‘25. 5. 23. | 12       |
| 프로젝트 발표                  | ‘25. 5. 24. | ‘25. 5. 24. | 1        |

## 나. 참여 인원 : 김진욱(팀장), 김민정, 김수민, 박성민, 유연우, 주용민

# 3. 작업 분할 구조(WBS)

![이미지 설명](img/image2.jpg)

# 4. 요구사항 정의서

## 가. 기능 요구사항

1. 사용자는 사진을 업로드할 수 있어야 하며, AI는 이미지를 분석하여 주변 풍경을 자연스럽게 확장할 수 있어야 함.

2. AI는 사진 내 주요 객체(랜드마크, 자연경관, 도로 등)를 자동으로 인식하고, 해당 객체에 대한 관련 정보를 제공할 수 있어야 함.

3. AI는 사진의 분위기(색감, 조도 등) 및 감성을 분석하여 사용자 감정을 예측할 수 있어야 함.

4. 감성 분석 결과를 기반으로 적절한 배경음악을 자동으로 추천할 수 있어야 함.

5. 사용자는 AI가 추천한 배경음악을 선택하거나, 직접 원하는 음악을 선택할 수 있어야 함.

6. IPTV를 통해 사진과 음악을 함께 송출할 수 있어야 함.

7. 사용자의 감성 회상을 돕기 위해 STT(Speech-to-Text) 기반 음성 회상 기능을 제공해야 함.

8. 가족과 추억을 공유할 수 있도록, IPTV를 통해 영상 및 감상 메시지를 공유할 수 있어야 함.

9. AI는 업로드된 사진, 음악, 음성 데이터를 활용하여 자동 영상 생성 기능(사진 + 음악 + 음성 결합)을 제공해야 함.

10. 사용자는 대시보드를 통해 서비스 사용 내역 및 AI 추천 결과를 조회할 수 있어야 함.

## 나. 비기능 요구사항

1. 처리 성능

    - 데이터 수집 및 전처리는 1시간 이내에 완료되어야 함.
    - AI 분석 및 추천 기능은 사용자가 요청한 후 10초 이내에 결과를 반환해야 함.
    - IPTV 영상 송출 요청 후 3초 이내에 스트리밍이 시작되어야 함.

2. 확장성

    - 추가적인 데이터 소스(API, DB 등)와의 연동이 가능해야 함.
    - 새로운 감성 분석 알고리즘 및 AI 모델을 손쉽게 교체·적용할 수 있어야 함.
    - 다양한 IPTV 플랫폼(KT, LG U+, SK Btv 등)과의 호환성을 고려하여 개발해야 함.

3. 보안

    - 사용자의 개인 사진 및 감성 분석 데이터를 AES-256 수준의 암호화 방식으로 저장해야 함.
    - IPTV를 통한 영상 공유 시 비공개 설정, 링크 공유, 가족 단위 접근 권한 관리 기능을 제공해야 함.
    - 외부 네트워크와의 통신은 SSL/TLS 기반 암호화 프로토콜을 사용해야 함.

4. 사용자 경험(UX)

    - 모든 연령층이 쉽게 사용할 수 있도록 직관적인 UI/UX를 설계해야 함.
    - 리모컨 조작을 기반으로 한 원클릭 탐색 및 음악 선택 기능을 제공해야 함.
    - 음성 명령 기반 탐색(STT) 기능을 지원할 수 있어야 함.

5. IPTV 및 클라우드 연동

    - AWS Media Services, Google Cloud, 또는 자체 서버를 활용하여 IPTV 송출이 가능해야 함.
    - 클라우드 기반 데이터 저장 및 분석 기능을 지원해야 함.
    - IPTV 서비스 장애 발생 시, 로컬 백업 및 대체 스트리밍 서비스를 제공할 수 있어야 함.

6. 법적 및 규제 준수
    - 개인정보 보호법, GDPR, HIPAA 등의 데이터 보호 규정을 준수해야 함.
    - 음악 추천 기능은 저작권 라이선스를 준수하는 곡만 포함하도록 설계해야 함.
    - IPTV 송출 콘텐츠는 방송통신위원회의 가이드라인을 준수해야 함.

# 5. 프로젝트 설계서

## 가. 시스템 아키텍처

1. 사용자 인터페이스 (프론트엔드): 사진 업로드, 대화형 사용자 인터페이스, 추억 회상 콘텐츠 제공

2. 백엔드 서버: 업로드된 사진 처리, AI 분석 요청, 데이터 저장

3. AI 분석 엔진: 이미지 속 장소 인식, 감정 및 분위기 분석, 콘텐츠 추천

4. 데이터베이스: 사용자 데이터, 사진 메타데이터, 감성 콘텐츠 저장

5. 외부 API 연동: 지도 API (Google Maps 등), 음악 API (Spotify 등), 감정 데이터 API

## 나. 기술 스텍

| 구성 요소           | 기술 스택                            | 설명                        |
| ------------------- | ------------------------------------ | --------------------------- |
| 프론트엔드 & 백엔드 | Python, Django, DRF, React           | API 서버, 데이터 처리, UI   |
| 데이터베이스        | MySQL, AWS RDS                       | 사진, 사용자 데이터 저장    |
| AI 모델             | TensorFlow, OpenCV, Pillow, CNN, GNN | 이미지 분석, 감정 인식      |
| 지도 API            | Google Maps API / 네이버 지도 API    | 장소 분석, 과거/현재 비교   |
| 클라우드 & 스토리지 | AWS S3                               | 사진 저장, 빠른 데이터 접근 |
| 음악 데이터         | YouTube API / Spotify API            | 연도별 인기 음악 추천       |
| 음성 데이터         | OpenAI Whisper / 네이버 Clova STT    | 음성 인식 및 분석           |
| 배포 및 인프라      | AWS EC2, Docker, Kubernetes          | 서버 배포 및 확장성 확보    |

## 다. 데이터 아키텍처

### 1) 데이터 흐름

#### 가) 사용자 사진 업로드

-   **파일 메타데이터 저장** (파일명, 업로드 시간, 위치 정보 등)
-   **AWS S3 또는 로컬 스토리지에 저장**

#### 나) AI 분석 진행

1. CNN을 활용하여 객체 및 장소 분석, 감정 분석 모델 적용
    - 색감, 분위기 분석 포함
2. GNN을 활용하여 관계 분석
    - 장소, 객체, 감정 간 관계 분석
    - 특정 사용자의 감정 패턴 및 장소별 감정 변화 탐색
3. (필요 시) 음성 데이터를 STT로 변환

#### 다) 결과 저장

-   분석된 사진 정보 및 감정 분석 결과 저장
-   저장소: MySQL, AWS RDS

#### 라) 결과 활용

1. 사용자 인터페이스에서 검색 가능
    - 특정 날짜, 장소, 감정 필터 적용
2. AI 분석 데이터를 기반으로 추천 콘텐츠 제공

(((( ERD 사진~~~ ))))

## 라. 클라우드 아키텍처

### 1) 프론트엔드 서버

-   React 기반 웹 애플리케이션
-   배포: AWS S3 + Nginx
-   요청 처리: API Gateway → 백엔드 서버 호출

### 2) 백엔드 서버

-   Django REST Framework (DRF) 기반 API 서버
-   배포: AWS EC2, Docker, Kubernetes
-   요청 처리: API Gateway → AWS Lambda or EC2

### 3) AI 분석 서버

-   CNN 모델을 활용한 이미지 분석 및 감정 분석
-   배포: AWS SageMaker / GPU 기반 EC2
-   데이터 처리 후 분석 결과 DB 저장

### 4) 데이터베이스

-   MySQL (AWS RDS): 관계형 데이터 저장

### 5) 파일 저장 및 CDN

-   AWS S3: 이미지 및 음성 파일 저장
-   Nginx + EC2: 빠른 콘텐츠 제공

### 6) 음성 인식 및 음악 연동

-   OpenAI Whisper / 네이버 Clova STT: STT 분석 서버 구축
-   Spotify API / YouTube API: 음악 추천 서비스 연동

### 7) 배포 및 확장성

-   Docker + Kubernetes: 컨테이너 기반 배포
-   Auto Scaling: AI 분석 요청량 증가 시 자동 확장
-   ELB (Elastic Load Balancer): 여러 서버에 부하 분산
